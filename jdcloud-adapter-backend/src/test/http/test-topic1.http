### 题目1 - 用户注册API测试文件
### 使用方法：在IDEA中打开此文件，点击请求左侧的绿色运行按钮执行测试
### 或者在VSCode中安装REST Client插件后使用

### 测试前准备
### 1. 确保后端服务已启动（端口8081）
### 2. 确保MySQL数据库连接正常
### 3. 确保简道云AppKey配置正确

### ============================================
### 测试用例1: 正常注册 - 第一个用户
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "testUser01",
  "phone": "13800138000"
}

### 预期结果:
### - HTTP 200
### - 响应包含用户信息
### - 后端日志显示：开始创建简道云成员
### - 后端日志显示：简道云成员创建成功
### - 后端日志显示：用户注册成功


### ============================================
### 测试用例2: 正常注册 - 第二个用户
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "testUser02",
  "phone": "13900139000"
}

### 预期结果: HTTP 200，成功创建


### ============================================
### 测试用例3: 用户名重复（应失败）
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "testUser01",
  "phone": "13700137000"
}

### 预期结果:
### - HTTP 200 但 code != 200
### - message: "用户名已存在: testUser01"


### ============================================
### 测试用例4: 手机号重复（应失败）
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "testUser03",
  "phone": "13800138000"
}

### 预期结果:
### - HTTP 200 但 code != 200
### - message: "手机号已存在: 13800138000"


### ============================================
### 测试用例5: 用户名格式错误 - 少于2位
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "a",
  "phone": "13600136000"
}

### 预期结果:
### - HTTP 400 或 code != 200
### - 参数校验失败


### ============================================
### 测试用例6: 用户名格式错误 - 包含特殊字符
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "test@user",
  "phone": "13600136000"
}

### 预期结果: 参数校验失败


### ============================================
### 测试用例7: 手机号格式错误 - 不是11位
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "testUser05",
  "phone": "138001380"
}

### 预期结果: 参数校验失败


### ============================================
### 测试用例8: 手机号格式错误 - 不是1开头
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "testUser06",
  "phone": "23800138000"
}

### 预期结果: 参数校验失败


### ============================================
### 测试用例9: 缺少必填字段 - 无用户名
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "phone": "13500135000"
}

### 预期结果: 参数校验失败


### ============================================
### 测试用例10: 缺少必填字段 - 无手机号
### ============================================
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "testUser07"
}

### 预期结果: 参数校验失败


### ============================================
### 查询API测试
### ============================================

### 根据用户名查询
GET http://localhost:8081/api/user/username/testUser01

### 预期结果: 返回用户信息

###

### 根据手机号查询
GET http://localhost:8081/api/user/phone/13800138000

### 预期结果: 返回用户信息

###

### 查询不存在的用户
GET http://localhost:8081/api/user/username/notexist

### 预期结果: 用户不存在


### ============================================
### 并发测试（可选）
### ============================================
### 需要手动快速点击多次执行，测试并发场景
POST http://localhost:8081/api/user/register
Content-Type: application/json

{
  "username": "concurrentTest01",
  "phone": "13400134000"
}

### 预期结果: 只有一次成功，其他应返回"用户名已存在"或"手机号已存在"
